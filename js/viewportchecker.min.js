!function($){$.fn.viewportChecker=function(t){var e={classToAdd:"visible",classToRemove:"invisible",offset:100,repeat:!1,invertBottomOffset:!0,callbackFunction:function(t,e){},scrollHorizontal:!1};$.extend(e,t);var o=this,a={height:$(window).height(),width:$(window).width()},s=-1!=navigator.userAgent.toLowerCase().indexOf("webkit")?"body":"html";return this.checkElements=function(){var t,l;e.scrollHorizontal?(t=$(s).scrollLeft(),l=t+a.width):(t=$(s).scrollTop(),l=t+a.height),o.each(function(){var o=$(this),a={},s={};if(o.data("vp-add-class")&&(s.classToAdd=o.data("vp-add-class")),o.data("vp-remove-class")&&(s.classToRemove=o.data("vp-remove-class")),o.data("vp-offset")&&(s.offset=o.data("vp-offset")),o.data("vp-repeat")&&(s.repeat=o.data("vp-repeat")),o.data("vp-scrollHorizontal")&&(s.scrollHorizontal=o.data("vp-scrollHorizontal")),o.data("vp-invertBottomOffset")&&(s.scrollHorizontal=o.data("vp-invertBottomOffset")),$.extend(a,e),$.extend(a,s),!o.hasClass(a.classToAdd)||a.repeat){var i=a.scrollHorizontal?Math.round(o.offset().left)+a.offset:Math.round(o.offset().top)+a.offset,d=a.scrollHorizontal?i+o.width():i+o.height();a.invertBottomOffset&&(d-=2*a.offset),l>i&&d>t?(o.removeClass(a.classToRemove),o.addClass(a.classToAdd),a.callbackFunction(o,"add")):o.hasClass(a.classToAdd)&&a.repeat&&(o.removeClass(a.classToAdd),a.callbackFunction(o,"remove"))}})},$(window).bind("load scroll touchmove MSPointerMove",this.checkElements),$(window).resize(function(t){a={height:$(window).height(),width:$(window).width()},o.checkElements()}),this.checkElements(),this}}(jQuery);